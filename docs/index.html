<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Quality Evaluation and Reporting for CC-HIC • inspectEHR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Data Quality Evaluation and Reporting for CC-HIC">
<meta property="og:description" content="This package helps to produce data quality reports for CC-HIC.
    This primarily follows the Kahn data quality evaluation framework.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">inspectEHR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/data_quality_evaluation.html">Data Quality Evaluation with inspectEHR</a>
    </li>
    <li>
      <a href="articles/extract_data.html">Data extraction using inspectEHR</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/CC-HIC/inspectEHR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="inspectehr-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#inspectehr-" class="anchor"></a>inspectEHR
<a href="https://cc-hic.github.io/inspectEHR/"><img src="logo.png" align="right" height="139"></a>
</h1></div>
<!-- badges: start -->

<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p><code>inspectEHR</code> is a quality evaluation tool for CC-HIC. The
goal of this package is to provide a core set of functions to detect
erroneous or otherwise questionable data within CC-HIC, so that the end
researcher can handle this information explicitly.</p>
<p>The design ethos of <code>inspectEHR</code> is to apply a
comprehensive interpretation of the Khan data quality evaluation
framework.</p>
<p>The full default evaluation is largely automated, and can be
performed by use of the <code><a href="reference/perform_evaluation.html">perform_evaluation()</a></code> function. The
output from this function is stored in the CC-HIC database as metadata,
so that downstream research can use a consistent set of rules when faced
with erroneous data patterns.</p>
<p>Helper functions for extracting and wrangling data have also been
developed. These live in the sister package <code>wranglEHR</code>,
which must be installed for inspectEHR to function correctly.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install directly from github with</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"DocEd/inspectEHR"</span><span class="op">)</span></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/CC-HIC/inspectEHR">inspectEHR</a></span><span class="op">)</span>

<span class="co">## Create a connection to the CC-HIC database. (I leave this blank here for security).</span>
<span class="va">ctn</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="op">)</span>

<span class="fu"><a href="reference/perform_evaluation.html">perform_evaluation</a></span><span class="op">(</span>
  connection <span class="op">=</span> <span class="va">ctn</span>,
  output_folder <span class="op">=</span> <span class="st">"/data/cchic/ed/phd/data_quality_evaluation/tmp/"</span>,
  verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># I recommend working in `verbose` mode so you can track progress of the evaluation.</span>

<span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">ctn</span><span class="op">)</span></code></pre></div>
</div>
<div id="getting-help" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-help" class="anchor"></a>Getting help</h2>
<p>If you find a bug, please file a minimal reproducible example on <a href="https://github.com/DocEd/inspectEHR/issues">github</a>.</p>
</div>
<div id="reporting-data-quality-issues" class="section level2">
<h2 class="hasAnchor">
<a href="#reporting-data-quality-issues" class="anchor"></a>Reporting Data Quality Issues</h2>
<p>Please submit an issue and tag it with “data quality”. Data quality
issues are often related to a specific site. If this is the case, please
also tag the site.</p>
</div>
<div id="data-quality-rules" class="section level2">
<h2 class="hasAnchor">
<a href="#data-quality-rules" class="anchor"></a>Data Quality Rules</h2>
<p>The data quality rules are largely based upon standards set by
OHDSI<sup>1</sup>, and the consensus guidelines by Khan et
al.<sup>2</sup>. The CC-HIC currently uses an episode centric model. As
such, many of the data quality checks are based around this way of
thinking. As we move to OMOP (a patient centric model) many of these
will change accordingly. General conventions follow that:</p>
<ul>
<li>Verification refers to an internal check of the data, possibly
against a data specification or domain knowledge.</li>
<li>Validation refers to an external check of the data, against a
secondary resource that is known to be trusted.</li>
</ul>
<div id="episode-verification" class="section level3">
<h3 class="hasAnchor">
<a href="#episode-verification" class="anchor"></a>Episode Verification</h3>
<ul>
<li>Internal consistency check of episode
<ul>
<li>Each episode has a unique identifier</li>
<li>Each episode has a start date</li>
<li>Each episode has an end date defined by one of:
<ul>
<li>End of episode date time (often administrative in nature and used
with caution)</li>
<li>On unit death date time from any means
<ul>
<li>Death</li>
<li>Brain stem Death (BSD)</li>
<li>“Body Removal”: strongly suggesting death</li>
</ul>
</li>
<li>The last measured bedside physiological result (HR and SpO2)</li>
</ul>
</li>
<li>Death (other than BSD) cannot occur before the last caputre of a
direct physiological measure (e.g. a heart rate, or a blood pressure),
but could occur before the return of a lab measure (e.g. a CRP or a
pathology result)</li>
<li>Records that are flagged as “open” are dropped.</li>
</ul>
</li>
</ul>
</div>
<div id="eventvalue-verification" class="section level3">
<h3 class="hasAnchor">
<a href="#eventvalue-verification" class="anchor"></a>Event/Value Verification</h3>
<ul>
<li>Value conformance: data conforms to accepted type and formatting
constraints</li>
<li>Relational conformance: unique keys are not duplicated and there are
no orphaned rows in the database</li>
<li>Computational conformance: calculated and contributed values agree
with oneanother
<ul>
<li>e.g. BMI (derived from height and weight) in plausible range and
agree with a contributed BMI</li>
<li>e.g. APACHE in plausible range and agree with a contributed
APACHE</li>
</ul>
</li>
<li>Completeness: contributed data items match local capability
(i.e. missingness only occurs when the data doesn’t exist)</li>
<li>Plausibility:
<ul>
<li>Uniqueness plausibility: descriptions of singular events/objects are
not duplicated</li>
<li>Atemporal plausibility:
<ul>
<li>Events occur within their episode (within a reasonable buffer
time)</li>
<li>Events fall within an accepted range, follow the expected
distribution and agree with internal/local knowledge</li>
<li>Distributions for independent measures of the same fact are in
agreement:
<ul>
<li>e.g. Systolic &gt; MAP &gt; Diastolic</li>
<li>e.g. blood gas sodium and lab sodium</li>
<li>e.g. menorrhagia diagnosis only linked to female sex</li>
</ul>
</li>
<li>Repeated measures of the same event show the expected
variability</li>
</ul>
</li>
<li>Temporal plausibility:
<ul>
<li>Observed values, and sequences of values that represent state
transitions, correspond to an expected temporal property:
<ul>
<li>e.g. Hosp Admission -&gt; ICU Admission -&gt; ICU Discharge -&gt;
Hosp Discharge</li>
</ul>
</li>
<li>Value density over time are consistent with local expectations
<ul>
<li>e.g. busy and quiet periods are reflected in the data</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div id="event-validation" class="section level3">
<h3 class="hasAnchor">
<a href="#event-validation" class="anchor"></a>Event Validation</h3>
<p>The same principles listed above can be retested under a validation
framework. That is to seak an external resource to validate the values
in question. An aim is to check the data against the ICNARC reports,
which will allows for some external validation against a gold standard
resource. At present, the validation that is performed is to compaire
all sites against each other. In this sense, each site is used as a
validation check against the others. Distrepancies should either be due
to systemic errors, or differences in casemix.</p>
<hr>
<ol>
<li><a href="https://www.ohdsi.org/analytic-tools/achilles-for-data-characterization/" class="uri">https://www.ohdsi.org/analytic-tools/achilles-for-data-characterization/</a></li>
<li>Kahn, Michael G.; Callahan, Tiffany J.; Barnard, Juliana; Bauck,
Alan E.; Brown, Jeff; Davidson, Bruce N.; Estiri, Hossein; Goerg,
Carsten; Holve, Erin; Johnson, Steven G.; Liaw, Siaw-Teng;
Hamilton-Lopez, Marianne; Meeker, Daniella; Ong, Toan C.; Ryan, Patrick;
Shang, Ning; Weiskopf, Nicole G.; Weng, Chunhua; Zozus, Meredith N.; and
Schilling, Lisa (2016) “A Harmonized Data Quality Assessment Terminology
and Framework for the Secondary Use of Electronic Health Record Data,”
eGEMs (Generating Evidence &amp; Methods to improve patient outcomes):
Vol. 4: Iss. 1, Article 18.</li>
</ol>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/CC-HIC/inspectEHR/">https://​github.com/​CC-HIC/​inspectEHR/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/CC-HIC/inspectEHR">https://​github.com/​CC-HIC/​inspectEHR</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Edward Palmer <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-8024-4616" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle Status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Edward Palmer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
